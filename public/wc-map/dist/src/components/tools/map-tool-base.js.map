{"version":3,"file":"map-tool-base.js","sources":["../../../../src/components/tools/map-tool-base.js"],"sourcesContent":["import { LitElement, html, css } from \"lit\";\r\nimport { WebMap } from \"../maps/web-map\";\r\n\r\nexport class MapToolBase extends LitElement {\r\n  static styles = css`\r\n    :host {\r\n      display: block;\r\n    }\r\n  `;\r\n\r\n  static properties = {\r\n    for: { type: String, reflect: false },\r\n    disabled: { type: Boolean, reflect: true }\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.for = '';\r\n    this.disabled = false;\r\n    this.webMapElement = null;\r\n    this.isModal = false;\r\n  }\r\n\r\n  render() {\r\n    return html`<div>Base Map Tool for ${this.webMapElement?.constructor.name || 'unknown'}</div>`;\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n    this.updateWebMapElement();\r\n  }\r\n\r\n  updated(changedProperties) {\r\n    if (changedProperties.has('for')) {\r\n      this.updateWebMapElement();\r\n    }\r\n  }\r\n\r\n  updateWebMapElement() {\r\n    const newMapElement = this.getWebMapElement();\r\n    if (newMapElement !== this.webMapElement) {\r\n      this.webMapElement = newMapElement;\r\n      this.requestUpdate();\r\n    }\r\n  }\r\n\r\n  getWebMapElement() {\r\n    if (this.for) {\r\n      return this.getRootNode().querySelector(`#${this.for}`);\r\n    } else {\r\n      let element = this;\r\n      while (element) {\r\n        if (element instanceof WebMap) {\r\n          return element;\r\n        }\r\n        element = element.parentElement || element.getRootNode()?.host;\r\n      }\r\n      console.error(`No WebMap element found for ${this.constructor.name}`);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  activate() {\r\n    console.log(`Activating ${this.constructor.name}`);\r\n    this.disabled = false;\r\n  }\r\n  \r\n  deactivate() {\r\n    console.log(`Deactivating ${this.constructor.name}`);\r\n    this.disabled = true;\r\n  }\r\n}\r\n\r\n// Define the custom element if it has not been defined yet\r\n// Redefinition may occur is this class is extended by another class\r\nif (!customElements.get('map-tool-base')) {\r\n  customElements.define('map-tool-base', MapToolBase);\r\n}\r\n"],"names":["LitElement","css","html"],"mappings":"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"}